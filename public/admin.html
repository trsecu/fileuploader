<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</title>
<style>
body{font-family:system-ui;direction:rtl;padding:20px}
.container{max-width:800px;margin:auto}
input,button{padding:8px;margin:6px 0;width:100%}
.external-btn{
  display: inline-block;
  padding: 10px 16px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  box-shadow: 0 2px 6px rgba(0,0,0,0.12);
  transition: transform .08s ease, box-shadow .08s ease;
  border: 1px solid rgba(0,0,0,0.06);
}
#floating-fun{
  position:fixed;
  right:18px;
  bottom:18px;
  width:56px;
  height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  border-radius:50%;
  background:linear-gradient(180deg,#fff,#f0f0f3);
  box-shadow:0 8px 20px rgba(0,0,0,0.18);
  cursor:pointer;
  user-select:none;
  transition:transform .12s ease, box-shadow .12s ease;
  z-index:9999;
}
#floating-fun:active{ transform:scale(.94) rotate(-6deg); box-shadow:0 4px 10px rgba(0,0,0,0.14) }
.external-btn:hover{ transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,0.12); }
  
</style>
</head>
<body>
<div class="container">
  <h2>Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</h2>
<h1>Matin koni hast</h1>
<h3>ØªÙ…Ø§Ù… Ù…Ø¬Ø§Ø²Ø§Øª Ùˆ Ú©ÛŒÙØ± Ù‡Ø§ÛŒ Ø§ÛŒÙ† ÙÛŒØ´ÛŒÙ†Ú¯ Ø¨Ù‡ Ø¹Ù‡Ø¯Ù‡ ÛŒ Ù…ØªÛŒÙ† Ù…ÛŒ Ø¨Ø§Ø´Ø¯ Ø¨Ù†Ø¯Ù‡ Ø±Ø§ Ú¯Ø±ÙˆÚ¯Ø§Ù† Ú¯Ø±ÙØªÙ† Ùˆ Ù…Ø¬Ø¨ÙˆØ± Ú©Ø±Ø¯Ù† </h3>

<a class="external-btn" href="https://pranx.com/hacker/" target="_blank" rel="noopener noreferrer">
 Ø³ÛŒØ³ØªÙ… Ù…Ø®ØµÙˆØµ Ø­Ø§Ú© Ø­Ø±ÙÙ‡ Ø§ÛŒÛŒ 
</a>

<div id="floating-fun" role="button" aria-label="Ø§Ø³Ø¨Ø§Ø¨â€ŒØ¨Ø§Ø²ÛŒ ÙØ§Ù†" tabindex="0">
  ğŸ¦†
</div>
  <button id="adminLogin">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</button>
  <button id="adminLogout">Ø®Ø±ÙˆØ¬ Ø§Ø¯Ù…ÛŒÙ†</button>
  <p id="adminStatus"></p>

  <h3>Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„</h3>
  <input id="fileInput" type="file"/>
  <button id="uploadBtn" disabled>Ø¢Ù¾Ù„ÙˆØ¯</button>
  <p id="uploadStatus"></p>

  <h3>Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§</h3>
  <div id="fileList">Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§...</div>
</div>

<script>
document.getElementById('floating-fun').addEventListener('click', () => {
  // Ù¾ÛŒØ§Ù… ÙØ§Ù† Ø¬Ø¯Ø§ Ø§Ø² Ù„ÛŒÙ†Ú©Ø› Ø§Ø² alert Ø³Ø§Ø¯Ù‡ ÛŒØ§ ÛŒÚ© modal Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
  alert('Ø§ÙˆÙ‡! Ø§Ø±Ø¯Ú©Ù Ø¯ ğŸ¦†ğŸ‰');
});
</script>
<script>
async function adminLogin() {
  const res = await fetch('/api/admin/login', { method:'POST' });
  const j = await res.json();
  document.getElementById('adminStatus').textContent = j.ok ? 'Ø§Ø¯Ù…ÛŒÙ† ÙˆØ§Ø±Ø¯ Ø´Ø¯' : 'Ø®Ø·Ø§';
  document.getElementById('uploadBtn').disabled = !j.ok;
  loadFiles();
}

async function adminLogout() {
  const res = await fetch('/api/admin/logout', { method:'POST' });
  const j = await res.json();
  document.getElementById('adminStatus').textContent = j.ok ? 'Ø§Ø¯Ù…ÛŒÙ† Ø®Ø§Ø±Ø¬ Ø´Ø¯' : 'Ø®Ø·Ø§';
  document.getElementById('uploadBtn').disabled = true;
}

async function uploadFile() {
  const f = document.getElementById('fileInput').files[0];
  if(!f){ alert('ÙØ§ÛŒÙ„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡'); return; }
  const fd = new FormData(); fd.append('file', f);
  const res = await fetch('/api/admin/upload', { method:'POST', body: fd });
  const j = await res.json();
  document.getElementById('uploadStatus').textContent = JSON.stringify(j);
  loadFiles();
}

async function loadFiles() {
  const res = await fetch('/api/files');
  const j = await res.json();
  const el = document.getElementById('fileList');
  el.innerHTML = '';
  (j.files || []).forEach(f => {
    const div = document.createElement('div');
    div.textContent = f.filename + ' ';
    const btn = document.createElement('button');
    btn.textContent = 'Ø­Ø°Ù';
    btn.onclick = async () => {
      await fetch('/api/admin/delete', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ filename: f.filename })
      });
      loadFiles();
    };
    div.appendChild(btn);
    el.appendChild(div);
  });
}

document.getElementById('adminLogin').addEventListener('click', adminLogin);
document.getElementById('adminLogout').addEventListener('click', adminLogout);
document.getElementById('uploadBtn').addEventListener('click', uploadFile);
loadFiles();
</script>
</body>
</html>
